<!-- http://wiki.freeswitch.org/wiki/Dialplan_XML -->
<include>
  <context name="public">

    <extension name="unloop">
      <condition field="${unroll_loops}" expression="^true$"/>
      <condition field="${sip_looped_call}" expression="^true$">
	<action application="deflect" data="${destination_number}"/>
      </condition>
    </extension>
    <!--
	Tag anything pass thru here as an outside_call so you can make sure not
	to create any routing loops based on the conditions that it came from 
	the outside of the switch.  
    -->
    <extension name="outside_call" continue="true">
      <condition>
	<action application="set" data="outside_call=true"/>
	<action application="export" data="RFC2822_DATE=${strftime(%a, %d %b %Y %T %z)}"/>
      </condition>
    </extension>

    <extension name="call_debug" continue="true">
      <condition field="${call_debug}" expression="^true$" break="never">
	<action application="info"/>
      </condition>
    </extension>
<!-- Als deze public_extention VOOR transfer_to_unet staat, dan vangt deze alle calls af, dus ook de conferences, uiteindelijk moet deze dus als LAATSTE in public.xml staan-->
<!-->   <extension name="public_extensions">
      <condition field="destination_number" expression="^(10[01][0-9])$">
	<action application="transfer" data="$1 XML default"/>
      </condition>
    </extension>  -->

  <extension name="transfer_to_unet">
      <condition field="destination_number" expression="^(.*)$">
	<action application="transfer" data="$1 XML unet"/>
      </condition>
    </extension>
    
    <X-PRE-PROCESS cmd="include" data="public/*.xml"/>

  </context>
</include>
